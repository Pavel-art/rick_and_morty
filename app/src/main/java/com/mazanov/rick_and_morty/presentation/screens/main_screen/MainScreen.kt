package com.mazanov.rick_and_morty.presentation.screens.main_screenimport androidx.compose.foundation.backgroundimport androidx.compose.foundation.layout.*import androidx.compose.foundation.lazy.LazyColumnimport androidx.compose.foundation.lazy.itemsimport androidx.compose.material.*import androidx.compose.material.icons.Iconsimport androidx.compose.material.icons.filled.Searchimport androidx.compose.runtime.Composableimport androidx.compose.runtime.SideEffectimport androidx.compose.runtime.livedata.observeAsStateimport androidx.compose.ui.Alignmentimport androidx.compose.ui.Modifierimport androidx.compose.ui.graphics.Colorimport androidx.compose.ui.unit.dpimport androidx.compose.ui.unit.spimport androidx.hilt.navigation.compose.hiltViewModelimport com.mazanov.rick_and_morty.presentation.navigation.NavigationStateimport com.mazanov.rick_and_morty.presentation.theme.MainBackgroundColor@Composablefun MainScreen(    navigationState:NavigationState) {    val viewModel: MainScreenViewModel = hiltViewModel()    val screenState = viewModel.mainScreenState.observeAsState(MainScreenState.Initial)    val currentState = screenState.value    Scaffold(        topBar = {            TopAppBar(                backgroundColor = MaterialTheme.colors.surface,                modifier = Modifier                    .height(55.dp)                    .fillMaxWidth(),                elevation = 0.dp            ) {                Box(contentAlignment = Alignment.CenterEnd) {                    Row(                        Modifier.fillMaxWidth(),                        horizontalArrangement = Arrangement.Center,                    ) {                        Text(                            text = "Character",                            fontSize = 22.sp,                            color = Color.White,                        )                    }                    IconButton(onClick = {}) {                        Icon(                            imageVector = Icons.Filled.Search,                            contentDescription = "Search",                            tint = Color.White                        )                    }                }            }        }    ) { paddingValues ->        if (currentState is MainScreenState.Loading) {            Box(                modifier = Modifier                    .fillMaxSize()                    .background(MainBackgroundColor),                contentAlignment = Alignment.Center            ) {                CircularProgressIndicator(color = MaterialTheme.colors.primary)            }        }        if (currentState is MainScreenState.Error) {            Column(                modifier = Modifier                    .fillMaxSize()                    .background(MaterialTheme.colors.background)                    .padding(8.dp),                horizontalAlignment = Alignment.CenterHorizontally            ) {                Text(text = "Error 404", color = Color.White)                Text(text = currentState.toString(), color = Color.White)            }        }        if (currentState is MainScreenState.Load) {            LazyColumn(                modifier = Modifier                    .fillMaxSize()                    .padding(paddingValues)                    .background(MaterialTheme.colors.background)                    .padding(horizontal = 8.dp, vertical = 6.dp)            ) {                items(currentState.content, key = { it.id }) {                    CardItem(                        cardContent = it,                        navigationState = navigationState                    )                    Spacer(                        modifier = Modifier                            .fillMaxWidth()                            .height(2.dp)                            .background(MaterialTheme.colors.secondary)                    )                }                item {                    if (currentState.nextDataIsLoading) {                        Box(                            modifier = Modifier                                .fillMaxWidth()                                .wrapContentHeight()                                .padding(16.dp),                            contentAlignment = Alignment.Center,                        ) {                            CircularProgressIndicator(color = MaterialTheme.colors.primary)                        }                    } else {                        SideEffect {                            viewModel.getNextPage()                        }                    }                }            }        }    }}